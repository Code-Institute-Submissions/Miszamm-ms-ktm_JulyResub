{% extends "base.html" %}
{% block content %}
    
 
 <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <h3 align-self-cente>Edit Your Advert</h3><br>
                <p>If you wish to update an advert about your KTM bike , press button below</p>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                    EDIT
                </button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Edit Your Add</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form method="POST" action="{{ url_for('edit_post', post_id=post._id) }}" enctype="multipart/form-data">
                                    <select id="category_name" name="category_name" class="validate" required>
                                        <option value="" disabled > Choose Your Bike Category</option>
                                        {% for category in categories %}
                                            {% if category.category_name == post.category_name %}
                                                <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
                                            {% else %}
                                                <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                    <label for="category_name">Bike category</label>
                                    <div class="form-group">
                                        <label for="model">Model</label>
                                        <input type="text" class="form-control" id="model" name="model" 
                                        value="{{ post.model }}" placeholder="Model:" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="year">Year Of Manucacture</label>
                                        <input type="text" class="form-control" id="year" name="year"
                                        value="{{ post.year }}" placeholder="Year of Manufacture:">
                                    </div>
                                    <div class="form-group">
                                        <label for="description" class="form-label">Description</label>
                                        <textarea class="form-control" id="description" name="description" placeholder="Description" rows="4"
                                        minlength="5" maxlenght="200">{{- post.description -}}</textarea>
                                    </div>
                                        <div class="form-group">
                                        <label for="Image" class="form-label">Image:{{ post.image }}</label>
                                       <input type="file" class="form-control" id="image" name="image"> 
                                    </div>
                                    <div class="form-group">
                                        <label for="mileage">Mileage</label>
                                        <input type="text" class="form-control" id="mileage" name="mileage" 
                                        value="{{ post.mileage }}" placeholder="Mileage:">
                                    </div>
                                    <div class="form-group">
                                        <label for="price">Price</label>
                                        <input type="text" class="form-control" id="price" name="price" 
                                        value="{{ post.price }}" placeholder="Price:">
                                    </div>
                                    <div class="form-group">
                                        <label for="seller">Your Name</label>
                                        <input type="text" class="form-control" id="seller" name="seller" 
                                        value="{{ post.seller }}" placeholder="Your Name:" minlength="3"
                                            maxlength="15">
                                    </div>
                                    <div class="form-group">
                                        <label for="contact_number">Mobile Number</label>
                                        <input type="text" class="form-control" id="contact_number" name="contact_number" 
                                        value="{{ post.contact_number }}" placeholder="Mobile Number:" required >  
                                    </div>
                                    <div class="form-group"><!-- Date input -->
                                        <label class="control-label" for="date_posted">Date Posted:</label>
                                        <input type="text" class="form-control" id="date_posted" name="date_posted" 
                                        value="{{ post.date_posted }}" placeholder="DD/MM/YYYY">
                                    </div>
                                    <div class="modal-footer">
                                        <a href="{{ url_for('get_posts') }}" type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</a>
                                        <button type="submit" name="action" class="btn btn-primary">Update ADD</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   
        
    
{% endblock %}